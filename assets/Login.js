var x=Object.defineProperty;var v=(u,i)=>x(u,"name",{value:i,configurable:!0});import{u as y,r as C,a as R,c as z,b as s,d as F,e as o,w as t,f as l,g as L,h as N,o as S,i as B,j as w,E as c}from"./index.js";import{_ as E}from"./_plugin-vue_export-helper.js";const U={class:"wechat-page login-page"},q={class:"login-container"},D={class:"login-header"},M={class:"wechat-logo"},$={class:"login-form"},j={class:"register-link"},A={__name:"Login",setup(u){const i=N(),p=y(),m=C(),a=R({username:"",password:""}),b={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},g=v(async()=>{try{await m.value.validate();const r=await p.login(a);r.success?(c.success("登录成功"),i.push("/chat")):c.error(r.message)}catch(r){console.error("登录失败:",r),c.error("登录失败，请重试")}},"handleLogin");return(r,e)=>{const h=l("ChatDotRound"),k=l("el-icon"),_=l("el-input"),d=l("el-form-item"),f=l("el-button"),V=l("el-form");return S(),z("div",U,[s("div",q,[s("div",D,[s("div",M,[o(k,{size:"80",color:"var(--wechat-green)"},{default:t(()=>[o(h)]),_:1})]),e[3]||(e[3]=s("h1",{class:"app-title"},"FChat",-1)),e[4]||(e[4]=s("p",{class:"app-subtitle"},"连接你我，分享生活",-1))]),s("div",$,[o(V,{ref_key:"loginFormRef",ref:m,model:a,rules:b,onSubmit:L(g,["prevent"])},{default:t(()=>[o(d,{prop:"username"},{default:t(()=>[o(_,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=n=>a.username=n),placeholder:"用户名或邮箱",size:"large","prefix-icon":"User",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(d,{prop:"password"},{default:t(()=>[o(_,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":"",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(d,null,{default:t(()=>[o(f,{type:"primary",loading:B(p).loading,onClick:g,class:"login-btn",size:"large"},{default:t(()=>e[5]||(e[5]=[w(" 登录 ",-1)])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",j,[o(f,{type:"text",onClick:e[2]||(e[2]=n=>r.$router.push("/register")),class:"register-btn"},{default:t(()=>e[6]||(e[6]=[w(" 还没有账号？立即注册 ",-1)])),_:1,__:[6]})])]),e[7]||(e[7]=F('<div class="login-footer" data-v-c873ba67><p class="footer-text" data-v-c873ba67>登录即表示同意</p><p class="footer-links" data-v-c873ba67><a href="#" class="footer-link" data-v-c873ba67>用户协议</a><span class="footer-separator" data-v-c873ba67>和</span><a href="#" class="footer-link" data-v-c873ba67>隐私政策</a></p></div>',1))])])}}},H=E(A,[["__scopeId","data-v-c873ba67"]]);export{H as default};
