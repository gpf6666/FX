import{r as k,ad as V,B as x,D as s,cx as y,W as o,O as t,bm as l,aa as C,cy as R,C as S,u as z,S as f}from"./vendor.js";import{u as B}from"./index.js";import{_ as F}from"./_plugin-vue_export-helper.js";import{E as d}from"./element.js";const L={class:"wechat-page login-page"},N={class:"login-container"},D={class:"login-header"},E={class:"wechat-logo"},U={class:"login-form"},q={class:"register-link"},M={__name:"Login",setup($){const g=R(),c=B(),p=k(),a=V({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},u=async()=>{try{await p.value.validate();const r=await c.login(a);r.success?(d.success("登录成功"),g.push("/chat")):d.error(r.message)}catch(r){console.error("登录失败:",r),d.error("登录失败，请重试")}};return(r,e)=>{const b=l("ChatDotRound"),w=l("el-icon"),m=l("el-input"),i=l("el-form-item"),_=l("el-button"),h=l("el-form");return S(),x("div",L,[s("div",N,[s("div",D,[s("div",E,[o(w,{size:"80",color:"var(--wechat-green)"},{default:t(()=>[o(b)]),_:1})]),e[3]||(e[3]=s("h1",{class:"app-title"},"FChat",-1)),e[4]||(e[4]=s("p",{class:"app-subtitle"},"连接你我，分享生活",-1))]),s("div",U,[o(h,{ref_key:"loginFormRef",ref:p,model:a,rules:v,onSubmit:C(u,["prevent"])},{default:t(()=>[o(i,{prop:"username"},{default:t(()=>[o(m,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=n=>a.username=n),placeholder:"用户名或邮箱",size:"large","prefix-icon":"User",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:t(()=>[o(m,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":"",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(_,{type:"primary",loading:z(c).loading,onClick:u,class:"login-btn",size:"large"},{default:t(()=>e[5]||(e[5]=[f(" 登录 ",-1)])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",q,[o(_,{type:"text",onClick:e[2]||(e[2]=n=>r.$router.push("/register")),class:"register-btn"},{default:t(()=>e[6]||(e[6]=[f(" 还没有账号？立即注册 ",-1)])),_:1,__:[6]})])]),e[7]||(e[7]=y('<div class="login-footer" data-v-c873ba67><p class="footer-text" data-v-c873ba67>登录即表示同意</p><p class="footer-links" data-v-c873ba67><a href="#" class="footer-link" data-v-c873ba67>用户协议</a><span class="footer-separator" data-v-c873ba67>和</span><a href="#" class="footer-link" data-v-c873ba67>隐私政策</a></p></div>',1))])])}}},W=F(M,[["__scopeId","data-v-c873ba67"]]);export{W as default};
