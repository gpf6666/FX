import{r as k,X as b,y as x,A as s,aB as y,Q as o,I as t,al as l,V as C,aC as z,z as R,u as B,M as f}from"./vendor-BrOh9MUQ.js";import{u as F}from"./index-BoG8iAnr.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as d}from"./element-De4fDZDy.js";const N={class:"wechat-page login-page"},S={class:"login-container"},E={class:"login-header"},M={class:"wechat-logo"},U={class:"login-form"},q={class:"register-link"},A={__name:"Login",setup(D){const g=z(),p=F(),u=k(),a=b({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},c=async()=>{try{await u.value.validate();const r=await p.login(a);r.success?(d.success("登录成功"),g.push("/chat")):d.error(r.message)}catch(r){console.error("登录失败:",r),d.error("登录失败，请重试")}};return(r,e)=>{const w=l("ChatDotRound"),h=l("el-icon"),m=l("el-input"),i=l("el-form-item"),_=l("el-button"),V=l("el-form");return R(),x("div",N,[s("div",S,[s("div",E,[s("div",M,[o(h,{size:"80",color:"var(--wechat-green)"},{default:t(()=>[o(w)]),_:1})]),e[3]||(e[3]=s("h1",{class:"app-title"},"FChat",-1)),e[4]||(e[4]=s("p",{class:"app-subtitle"},"连接你我，分享生活",-1))]),s("div",U,[o(V,{ref_key:"loginFormRef",ref:u,model:a,rules:v,onSubmit:C(c,["prevent"])},{default:t(()=>[o(i,{prop:"username"},{default:t(()=>[o(m,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=n=>a.username=n),placeholder:"用户名或邮箱",size:"large","prefix-icon":"User",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:t(()=>[o(m,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":"",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(_,{type:"primary",loading:B(p).loading,onClick:c,class:"login-btn",size:"large"},{default:t(()=>e[5]||(e[5]=[f(" 登录 ",-1)])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",q,[o(_,{type:"text",onClick:e[2]||(e[2]=n=>r.$router.push("/register")),class:"register-btn"},{default:t(()=>e[6]||(e[6]=[f(" 还没有账号？立即注册 ",-1)])),_:1,__:[6]})])]),e[7]||(e[7]=y('<div class="login-footer" data-v-6442ce12><p class="footer-text" data-v-6442ce12>登录即表示同意</p><p class="footer-links" data-v-6442ce12><a href="#" class="footer-link" data-v-6442ce12>用户协议</a><span class="footer-separator" data-v-6442ce12>和</span><a href="#" class="footer-link" data-v-6442ce12>隐私政策</a></p></div>',1))])])}}},X=L(A,[["__scopeId","data-v-6442ce12"]]);export{X as default};
