var x=Object.defineProperty;var v=(u,i)=>x(u,"name",{value:i,configurable:!0});import{r as y,X as C,y as z,A as s,aB as R,Q as o,I as t,al as l,V as B,aC as F,z as L,u as N,M as w}from"./vendor-4TsGYA0n.js";import{u as S}from"./index-Chbkutgr.js";import{_ as E}from"./_plugin-vue_export-helper-y4GvAF8u.js";import{E as p}from"./element-DsYCR5Of.js";const M={class:"wechat-page login-page"},U={class:"login-container"},q={class:"login-header"},A={class:"wechat-logo"},D={class:"login-form"},I={class:"register-link"},$={__name:"Login",setup(u){const i=F(),c=S(),m=y(),a=C({username:"",password:""}),h={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},_=v(async()=>{try{await m.value.validate();const r=await c.login(a);r.success?(p.success("登录成功"),i.push("/chat")):p.error(r.message)}catch(r){console.error("登录失败:",r),p.error("登录失败，请重试")}},"handleLogin");return(r,e)=>{const V=l("ChatDotRound"),k=l("el-icon"),f=l("el-input"),d=l("el-form-item"),g=l("el-button"),b=l("el-form");return L(),z("div",M,[s("div",U,[s("div",q,[s("div",A,[o(k,{size:"80",color:"var(--wechat-green)"},{default:t(()=>[o(V)]),_:1})]),e[3]||(e[3]=s("h1",{class:"app-title"},"FChat",-1)),e[4]||(e[4]=s("p",{class:"app-subtitle"},"连接你我，分享生活",-1))]),s("div",D,[o(b,{ref_key:"loginFormRef",ref:m,model:a,rules:h,onSubmit:B(_,["prevent"])},{default:t(()=>[o(d,{prop:"username"},{default:t(()=>[o(f,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=n=>a.username=n),placeholder:"用户名或邮箱",size:"large","prefix-icon":"User",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(d,{prop:"password"},{default:t(()=>[o(f,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":"",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(d,null,{default:t(()=>[o(g,{type:"primary",loading:N(c).loading,onClick:_,class:"login-btn",size:"large"},{default:t(()=>e[5]||(e[5]=[w(" 登录 ",-1)])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",I,[o(g,{type:"text",onClick:e[2]||(e[2]=n=>r.$router.push("/register")),class:"register-btn"},{default:t(()=>e[6]||(e[6]=[w(" 还没有账号？立即注册 ",-1)])),_:1,__:[6]})])]),e[7]||(e[7]=R('<div class="login-footer" data-v-6442ce12><p class="footer-text" data-v-6442ce12>登录即表示同意</p><p class="footer-links" data-v-6442ce12><a href="#" class="footer-link" data-v-6442ce12>用户协议</a><span class="footer-separator" data-v-6442ce12>和</span><a href="#" class="footer-link" data-v-6442ce12>隐私政策</a></p></div>',1))])])}}},H=E($,[["__scopeId","data-v-6442ce12"]]);export{H as default};
