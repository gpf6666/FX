import{u as k,r as V,a as x,c as y,b as s,d as C,e as o,w as t,f as l,g as R,h as z,o as F,i as L,j as _,E as d}from"./index-CPEIal-T.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"wechat-page login-page"},B={class:"login-container"},E={class:"login-header"},U={class:"wechat-logo"},q={class:"login-form"},D={class:"register-link"},M={__name:"Login",setup($){const f=z(),c=k(),u=V(),a=x({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},p=async()=>{try{await u.value.validate();const r=await c.login(a);r.success?(d.success("登录成功"),f.push("/chat")):d.error(r.message)}catch(r){console.error("登录失败:",r),d.error("登录失败，请重试")}};return(r,e)=>{const w=l("ChatDotRound"),h=l("el-icon"),m=l("el-input"),i=l("el-form-item"),g=l("el-button"),b=l("el-form");return F(),y("div",S,[s("div",B,[s("div",E,[s("div",U,[o(h,{size:"80",color:"var(--wechat-green)"},{default:t(()=>[o(w)]),_:1})]),e[3]||(e[3]=s("h1",{class:"app-title"},"FChat",-1)),e[4]||(e[4]=s("p",{class:"app-subtitle"},"连接你我，分享生活",-1))]),s("div",q,[o(b,{ref_key:"loginFormRef",ref:u,model:a,rules:v,onSubmit:R(p,["prevent"])},{default:t(()=>[o(i,{prop:"username"},{default:t(()=>[o(m,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=n=>a.username=n),placeholder:"用户名或邮箱",size:"large","prefix-icon":"User",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(i,{prop:"password"},{default:t(()=>[o(m,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),type:"password",placeholder:"密码",size:"large","prefix-icon":"Lock","show-password":"",class:"wechat-input"},null,8,["modelValue"])]),_:1}),o(i,null,{default:t(()=>[o(g,{type:"primary",loading:L(c).loading,onClick:p,class:"login-btn",size:"large"},{default:t(()=>e[5]||(e[5]=[_(" 登录 ",-1)])),_:1,__:[5]},8,["loading"])]),_:1})]),_:1},8,["model"]),s("div",D,[o(g,{type:"text",onClick:e[2]||(e[2]=n=>r.$router.push("/register")),class:"register-btn"},{default:t(()=>e[6]||(e[6]=[_(" 还没有账号？立即注册 ",-1)])),_:1,__:[6]})])]),e[7]||(e[7]=C('<div class="login-footer" data-v-6442ce12><p class="footer-text" data-v-6442ce12>登录即表示同意</p><p class="footer-links" data-v-6442ce12><a href="#" class="footer-link" data-v-6442ce12>用户协议</a><span class="footer-separator" data-v-6442ce12>和</span><a href="#" class="footer-link" data-v-6442ce12>隐私政策</a></p></div>',1))])])}}},I=N(M,[["__scopeId","data-v-6442ce12"]]);export{I as default};
